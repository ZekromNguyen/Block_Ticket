{
  "Caching": {
    "Enabled": true,
    
    "Default": {
      "Ttl": "00:05:00",
      "SlidingExpiration": false,
      "Priority": "Normal",
      "Compress": false,
      "MaxSize": 1048576,
      "CacheNullResults": false,
      "Tags": []
    },
    
    "Policies": {
      "events": {
        "Ttl": "00:05:00",
        "Priority": "High",
        "Tags": ["events"]
      },
      "venues": {
        "Ttl": "00:30:00",
        "Priority": "High",
        "Tags": ["venues"]
      },
      "seatmap": {
        "Ttl": "01:00:00",
        "Priority": "Critical",
        "Tags": ["seatmaps", "venues"]
      },
      "availability": {
        "Ttl": "00:00:30",
        "Priority": "Critical",
        "Tags": ["availability", "events"]
      },
      "pricing": {
        "Ttl": "00:01:00",
        "Priority": "High",
        "Tags": ["pricing", "events"]
      },
      "search": {
        "Ttl": "00:02:00",
        "Priority": "Normal",
        "Tags": ["search"]
      },
      "catalog": {
        "Ttl": "00:10:00",
        "Priority": "Normal",
        "Tags": ["catalog", "events"]
      },
      "static": {
        "Ttl": "12:00:00",
        "Priority": "Low",
        "Tags": ["static"]
      }
    },
    
    "Redis": {
      "ConnectionString": null,
      "Database": 0,
      "KeyPrefix": "event-service",
      "ConnectTimeout": 5000,
      "SyncTimeout": 5000,
      "ConnectRetry": 3,
      "AbortOnConnectFail": false,
      
      "Cluster": {
        "Enabled": false,
        "Endpoints": [],
        "ConfigCheckInterval": "00:01:00"
      }
    },
    
    "Memory": {
      "SizeLimit": 104857600,
      "CompactionPercentage": 0.25,
      "ExpirationScanFrequency": "00:01:00"
    },
    
    "Warmup": {
      "Enabled": true,
      "Interval": "00:30:00",
      "DataTypes": [
        "popular-events",
        "venue-seatmaps",
        "active-pricing-rules",
        "event-search-results",
        "availability-data"
      ],
      "MaxItemsPerType": 100
    },
    
    "Invalidation": {
      "Enabled": true,
      "UseVersionedKeys": true,
      "DefaultVersion": "v1",
      
      "Strategies": [
        {
          "DataType": "events",
          "TriggerEvents": [
            "EventCreated",
            "EventUpdated",
            "EventDeleted",
            "EventPublished",
            "EventCanceled"
          ],
          "InvalidationPatterns": [
            "event:catalog:{EventId}*",
            "event:full:{EventId}*",
            "event:availability:{EventId}*",
            "search:events:*",
            "event:pricing:{EventId}*"
          ],
          "Delay": "00:00:00"
        },
        {
          "DataType": "venues",
          "TriggerEvents": [
            "VenueUpdated",
            "VenueDeleted",
            "SeatMapUpdated"
          ],
          "InvalidationPatterns": [
            "venue:seatmap:{VenueId}*",
            "venue:details:{VenueId}*"
          ],
          "Delay": "00:00:00"
        },
        {
          "DataType": "pricing",
          "TriggerEvents": [
            "PricingRuleCreated",
            "PricingRuleUpdated",
            "PricingRuleDeleted",
            "PricingRuleActivated",
            "PricingRuleDeactivated"
          ],
          "InvalidationPatterns": [
            "event:pricing:{EventId}*",
            "event:pricing-rules:{EventId}*"
          ],
          "Delay": "00:00:00"
        },
        {
          "DataType": "reservations",
          "TriggerEvents": [
            "ReservationCreated",
            "ReservationConfirmed",
            "ReservationCanceled",
            "ReservationExpired",
            "TicketPurchased"
          ],
          "InvalidationPatterns": [
            "event:availability:{EventId}*",
            "event:seats:{EventId}*"
          ],
          "Delay": "00:00:05"
        },
        {
          "DataType": "ticket-types",
          "TriggerEvents": [
            "TicketTypeCreated",
            "TicketTypeUpdated",
            "TicketTypeDeleted"
          ],
          "InvalidationPatterns": [
            "event:catalog:{EventId}*",
            "event:availability:{EventId}*",
            "event:pricing:{EventId}*"
          ],
          "Delay": "00:00:00"
        },
        {
          "DataType": "allocations",
          "TriggerEvents": [
            "AllocationCreated",
            "AllocationUpdated",
            "AllocationDeleted",
            "AllocationReleased"
          ],
          "InvalidationPatterns": [
            "event:availability:{EventId}*",
            "event:allocations:{EventId}*"
          ],
          "Delay": "00:00:02"
        },
        {
          "DataType": "event-series",
          "TriggerEvents": [
            "EventSeriesCreated",
            "EventSeriesUpdated",
            "EventSeriesDeleted"
          ],
          "InvalidationPatterns": [
            "event-series:*",
            "search:events:*"
          ],
          "Delay": "00:00:00"
        }
      ]
    }
  },
  
  "ConnectionStrings": {
    "Redis": "localhost:6379"
  }
}
